<Window x:Class="NxDataManager.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="è®¾ç½®" 
        Height="700" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource BackgroundBrush}">
    
    <Grid Margin="0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- å·¦ä¾§å¯¼èˆªèœå• -->
        <Border Grid.Column="0" Background="{DynamicResource SurfaceBrush}" 
                BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,0,1,0">
            <StackPanel Margin="0,20">
                <TextBlock Text="âš™ï¸ è®¾ç½®" FontSize="20" FontWeight="Bold" 
                           Foreground="{DynamicResource TextPrimaryBrush}" Margin="20,0,0,20"/>
                
                <Button Content="ðŸ”” é€šçŸ¥" Style="{StaticResource IconButtonStyle}" 
                        HorizontalContentAlignment="Left" Padding="20,12" FontSize="14"/>
                <Button Content="ðŸ’¾ å¤‡ä»½" Style="{StaticResource IconButtonStyle}" 
                        HorizontalContentAlignment="Left" Padding="20,12" FontSize="14"/>
                <Button Content="ðŸ”„ æ›´æ–°" Style="{StaticResource IconButtonStyle}" 
                        HorizontalContentAlignment="Left" Padding="20,12" FontSize="14"/>
                <Button Content="â„¹ï¸ å…³äºŽ" Style="{StaticResource IconButtonStyle}" 
                        HorizontalContentAlignment="Left" Padding="20,12" FontSize="14"
                        Command="{Binding OpenAboutCommand}"/>
            </StackPanel>
        </Border>

        <!-- å³ä¾§è®¾ç½®å†…å®¹ -->
        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="30,20">
                <!-- é€šçŸ¥è®¾ç½® -->
                <Border Background="{DynamicResource SurfaceBrush}" 
                        BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"
                        CornerRadius="12" Padding="25" Margin="0,0,20,20">
                    <StackPanel>
                        <TextBlock Text="ðŸ”” é€šçŸ¥è®¾ç½®" FontSize="18" FontWeight="Bold" 
                                   Foreground="{DynamicResource TextPrimaryBrush}" Margin="0,0,0,20"/>
                        
                        <CheckBox Content="å¯ç”¨é€šçŸ¥" IsChecked="{Binding EnableNotifications}" 
                                  Margin="0,0,0,12" FontSize="14"/>
                        <CheckBox Content="æ˜¾ç¤ºæ¡Œé¢é€šçŸ¥" IsChecked="{Binding ShowDesktopNotifications}" 
                                  Margin="0,0,0,12" FontSize="14"/>
                        <CheckBox Content="æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜" IsChecked="{Binding MinimizeToTray}" 
                                  Margin="0,0,0,12" FontSize="14"/>
                    </StackPanel>
                </Border>

                <!-- å¤‡ä»½è®¾ç½® -->
                <Border Background="{DynamicResource SurfaceBrush}" 
                        BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"
                        CornerRadius="12" Padding="25" Margin="0,0,20,20">
                    <StackPanel>
                        <TextBlock Text="ðŸ’¾ å¤‡ä»½è®¾ç½®" FontSize="18" FontWeight="Bold" 
                                   Foreground="{DynamicResource TextPrimaryBrush}" Margin="0,0,0,20"/>
                        
                        <TextBlock Text="é»˜è®¤å¤‡ä»½ä½ç½®" FontSize="13" Margin="0,0,0,8"
                                   Foreground="{DynamicResource TextSecondaryBrush}"/>
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox Text="{Binding DefaultBackupLocation}" Padding="10,8" FontSize="13"/>
                            <Button Grid.Column="1" Content="ðŸ“ æµè§ˆ" Margin="8,0,0,0" Padding="12,8"
                                    Style="{StaticResource PrimaryButton}"
                                    Command="{Binding BrowseBackupLocationCommand}"/>
                        </Grid>

                        <TextBlock Text="ä¿ç•™åŽ†å²è®°å½•å¤©æ•°" FontSize="13" Margin="0,0,0,8"
                                   Foreground="{DynamicResource TextSecondaryBrush}"/>
                        <TextBox Text="{Binding MaxBackupHistory}" Padding="10,8" FontSize="13" 
                                 Width="200" HorizontalAlignment="Left"/>
                    </StackPanel>
                </Border>

                <!-- é«˜çº§è®¾ç½® -->
                <Border Background="{DynamicResource SurfaceBrush}" 
                        BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"
                        CornerRadius="12" Padding="25" Margin="0,0,20,20">
                    <StackPanel>
                        <TextBlock Text="ðŸ”§ é«˜çº§è®¾ç½®" FontSize="18" FontWeight="Bold" 
                                   Foreground="{DynamicResource TextPrimaryBrush}" Margin="0,0,0,20"/>
                        
                        <CheckBox Content="å¼€æœºè‡ªåŠ¨å¯åŠ¨" IsChecked="{Binding StartWithWindows}" 
                                  Margin="0,0,0,12" FontSize="14"/>
                        <CheckBox Content="è‡ªåŠ¨æ£€æŸ¥æ›´æ–°" IsChecked="{Binding AutoCheckUpdates}" 
                                  Margin="0,0,0,16" FontSize="14"/>

                        <Button Content="ðŸ”„ æ£€æŸ¥æ›´æ–°" Padding="16,10" Margin="0,0,0,12"
                                Style="{StaticResource PrimaryButton}" HorizontalAlignment="Left"
                                Command="{Binding CheckForUpdatesCommand}"/>
                        
                        <Button Content="ðŸ—‘ï¸ æ¸…é™¤ç¼“å­˜" Padding="16,10"
                                Style="{StaticResource PrimaryButton}" HorizontalAlignment="Left"
                                Command="{Binding ClearCacheCommand}"/>
                    </StackPanel>
                </Border>

                <!-- åº•éƒ¨æŒ‰é’® -->
                <Grid Margin="0,0,20,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <Button Grid.Column="1" Content="â†º é‡ç½®" Padding="20,10" Margin="0,0,8,0"
                            Style="{StaticResource PrimaryButton}"
                            Command="{Binding ResetSettingsCommand}"/>
                    <Button Grid.Column="2" Content="ðŸ’¾ ä¿å­˜è®¾ç½®" Padding="25,10"
                            Style="{StaticResource PrimaryButton}"
                            Command="{Binding SaveSettingsCommand}"/>
                </Grid>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
